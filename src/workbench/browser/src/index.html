<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Eoapi - Easy & Open Source API Ecosystem</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script async src="assets/font/iconpark.js"></script>
    <link rel="icon" type="image/x-icon" href="assets/icons/icon.ico" />
  </head>
  <!-- Angular Cli need for node modules -->
  <script>
    var global = global || window;
    var Buffer = Buffer || [];
    var process = process || {
      env: { DEBUG: undefined },
      version: []
    };
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const rootEl = document.querySelector('eo-root');
      const loadingEl = document.querySelector('#first-screen-loading-container');
      // 观察器的配置（需要观察什么变动）
      const config = { childList: true, subtree: true };
      // 当观察到变动时执行的回调函数
      const callback = function (mutationsList, observer) {
        // Use traditional 'for loops' for IE 11
        for (let mutation of mutationsList) {
          if (mutation.type === 'childList' && rootEl.querySelector('eo-pages')) {
            loadingEl.style.display = 'none';
            // 之后，可停止观察
            observer.disconnect();
          }
        }
      };
      // 创建一个观察器实例并传入回调函数
      const observer = new MutationObserver(callback);
      // 以上述配置开始观察目标节点
      observer.observe(rootEl, config);
    });
  </script>

  <body eo-drop-root>
    <eo-root></eo-root>
    <div id="mask"></div>
    <div id="first-screen-loading-container" class="loading_container f_column">
      <img src="assets/images/logo.svg" />
      <div class="mt-2.5 ant-spin ant-spin-spinning ant-spin-lg">
        <span class="ant-spin-dot ant-spin-dot-spin ng-star-inserted">
          <i class="ant-spin-dot-item"></i>
          <i class="ant-spin-dot-item"></i>
          <i class="ant-spin-dot-item"></i>
          <i class="ant-spin-dot-item"></i>
        </span>
      </div>
    </div>
  </body>

  <style>
    #mask {
      position: absolute;
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      z-index: 99999;
      display: none;
    }

    .loading_container {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translateX(-50%);
    }

    .loading_container img {
      width: 200px;
    }
  </style>
</html>
