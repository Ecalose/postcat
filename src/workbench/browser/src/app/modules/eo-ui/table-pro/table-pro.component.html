<!-- {{ nzData | json }} -->
<!-- {{ setting | json }} -->
<eo-ng-table
  class="full-screen-container"
  [nzDataItem]="nzDataItem"
  [(nzData)]="nzData"
  [nzIsLevel]="setting.isLevel"
  [nzDraggable]="setting.rowSortable"
  [nzTbody]="tbodyConf"
  [nzExpand]="nzExpand"
  [nzExpand]="true"
  [nzPrimaryKey]="setting.primaryKey"
  [nzChildKey]="childKey"
  [nzScroll]="{ x: '1200px' }"
  [nzCheckAddRow]="checkAdd"
  (nzDataChange)="handleDataChange($event)"
  [nzThead]="theadConf"
></eo-ng-table>
<!-- Enum template -->
<ng-template #enums let-item="item" let-rowItem="rowItem">
  <div class="{{ rowItem.enums[item[rowItem.keyName]].class }}">
    {{ rowItem.enums[item[rowItem.keyName]].title }}
  </div>
</ng-template>
<!-- Operation Button -->
<div *ngFor="let btnItem of iconBtns">
  <ng-template #iconBtnTmp let-item="item" let-apis="apis" let-index="index">
    <button
      eo-ng-button
      nzType="text"
      (click)="btnClick(btnItem, index, item, apis)"
      eoNgFeedbackTooltip
      nzTooltipTitle="{{ btnItem.title }}"
      class="mr-btnbase eo-list-btn"
    >
      <svg class="iconpark-icon"><use [attr.href]="'#' + btnItem.icon"></use></svg>
    </button>
  </ng-template>
</div>
<ng-template #iconBtnDelete let-apis="apis" let-index="index" let-last="last" let-item="item">
  <ng-container *ngIf="!apis.checkIsCurrentLevelLastItem(item)">
    <button
      eo-ng-button
      nzType="text"
      eoNgFeedbackTooltip
      nzTooltipTitle="{{ BNT_MUI['delete'].title }}"
      (click)="apis.deleteRow(index)"
    >
      <svg class="iconpark-icon"><use [attr.href]="'#' + BNT_MUI['delete'].icon"></use></svg>
    </button>
  </ng-container>
</ng-template>

<!-- Tool Button -->
<ng-template #toolBtnTmp dir="rtl">
  <div class="eo-table-tool-bar">
    <!-- Show Column -->
    <button
      eo-ng-dropdown
      eo-ng-button
      nzType="text"
      *ngIf="setting?.toolButton?.columnVisible"
      [nzDropdownMenu]="dropdownMenTmp"
    >
      <svg class="iconpark-icon"><use href="#view-list-781pg17c"></use></svg>
    </button>
    <eo-ng-dropdown-menu #dropdownMenTmp>
      <ul nz-menu>
        <li nz-menu-item *ngFor="let item of columnVisibleMenus" (click)="toggleColumnVisible($event, item)">
          <label eo-ng-checkbox [(ngModel)]="item.checked">{{ item.title }}</label>
        </li>
      </ul>
    </eo-ng-dropdown-menu>
    <!-- Full screen -->
    <button *ngIf="setting?.toolButton?.fullScreen" eo-ng-button nzType="text" (click)="screenAll(0)">
      <svg class="iconpark-icon"><use href="#full-screen"></use></svg>
    </button>
  </div>
</ng-template>
